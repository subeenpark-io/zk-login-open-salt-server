# ===========================================
# zkLogin Salt Server - Environment Variables
# ===========================================

# Server Configuration
PORT=3000
LOG_LEVEL=info                    # debug | info | warn | error
CORS_ORIGINS=*                    # Comma-separated origins or *
RATE_LIMIT_MAX=100                # Max requests per minute per IP

# ===========================================
# Salt Provider Configuration
# ===========================================

# Provider mode: local | remote | hybrid | router
SALT_PROVIDER_MODE=local

# --- Local Provider (SALT_PROVIDER_MODE=local) ---
# Seed source: env | aws | vault
SEED_SOURCE=env

# Option 1: Environment variable (SEED_SOURCE=env)
MASTER_SEED=                      # Hex-encoded 32-byte seed (e.g., 0x...)

# Option 2: AWS Secrets Manager (SEED_SOURCE=aws)
# AWS_SECRET_NAME=zklogin/production-seed
# AWS_REGION=us-west-2

# Option 3: HashiCorp Vault (SEED_SOURCE=vault)
# VAULT_ADDR=https://vault.example.com
# VAULT_PATH=secret/zklogin/seed

# --- Remote Provider (SALT_PROVIDER_MODE=remote) ---
# REMOTE_SALT_ENDPOINT=https://salt.api.mystenlabs.com/get_salt
# REMOTE_SALT_TIMEOUT=10000       # Timeout in milliseconds
# REMOTE_SALT_API_KEY=            # Optional API key

# --- Hybrid Provider (SALT_PROVIDER_MODE=hybrid) ---
# Uses local provider as primary, remote as fallback
# HYBRID_FALLBACK_ENABLED=true
# HYBRID_FALLBACK_ENDPOINT=https://salt.api.mystenlabs.com/get_salt
# HYBRID_FALLBACK_AFTER_SECONDS=60

# --- Router Provider (SALT_PROVIDER_MODE=router) ---
# ROUTER_CONFIG_JSON={"type":"router","defaultProvider":"mysten",...}
# ROUTER_CONFIG_PATH=/path/to/router-config.json
